(* gramatica.ebnf - Definição da gramática da linguagem AfetoLang *)

(* Programa completo composto por várias declarações *)
programa         = { declaracao } ;

(* Tipos de declaração possíveis *)
declaracao       = atribuicao
                 | condicional
                 | repeticao
                 | entrada_saida
                 ;

(* Atribuição de valor a uma variável *)
atribuicao       = "guarde" identificador "como" expressao ";" ;

(* Estrutura condicional *)
condicional      = "se" "(" expressao ")" "entao" bloco [ "senão" bloco ] ;

(* Estrutura de repetição *)
repeticao        = "enquanto" "(" expressao ")" bloco ;

(* Entrada (escute) ou saída (mostre) *)
entrada_saida    = ( "mostre" | "escute" ) "(" expressao ")" ";" ;

(* Bloco de declarações delimitado por chaves *)
bloco            = "{" { declaracao } "}" ;

(* Expressões aritméticas e booleanas simples *)
expressao        = termo { operador_soma termo } ;
termo            = fator { operador_mult fator } ;
fator            = identificador
                 | numero
                 | texto
                 | "(" expressao ")"
                 ;

(* Operadores *)
operador_soma    = "+" | "-" | ">" | "<" | "==" | "!=" | ">=" | "<=" ;
operador_mult    = "*" | "/" ;

(* Elementos léxicos *)
identificador    = letra { letra | "_" | digito } ;
numero           = digito { digito } ;
texto            = '"' { caractere_sem_aspas } '"' ;

(* Conjuntos auxiliares *)
letra            = "a" | "b" | "c" | "d" | "e" | "f" | "g" | "h" | "i" | "j"
                 | "k" | "l" | "m" | "n" | "o" | "p" | "q" | "r" | "s" | "t"
                 | "u" | "v" | "w" | "x" | "y" | "z"
                 | "A" | "B" | "C" | "D" | "E" | "F" | "G" | "H" | "I" | "J"
                 | "K" | "L" | "M" | "N" | "O" | "P" | "Q" | "R" | "S" | "T"
                 | "U" | "V" | "W" | "X" | "Y" | "Z" ;

digito           = "0" | "1" | "2" | "3" | "4" | "5" | "6" | "7" | "8" | "9" ;

caractere_sem_aspas = ? qualquer caractere exceto aspas ? ;
